{"version":3,"sources":["Components/Business/Business.js","Components/BusinessList/BusinessList.js","Components/SearchBar/SearchBar.js","util/Yelp.js","Components/App/App.js","index.js"],"names":["Business","className","href","this","props","business","url","rel","target","src","imageSrc","alt","name","address","city","state","zipcode","category","rating","reviewCount","React","Component","BusinessList","console","log","businesses","map","SearchBar","term","location","sortBy","sortByOptions","handleEnter","bind","handleTermChange","handleLocationChange","handleSearch","sortByOption","setState","e","value","searchYelp","preventDefault","key","Object","keys","sortByOptionValue","getSortByClass","onClick","handleSortByChange","renderSortByOption","placeholder","onChange","onKeyPress","Yelp","search","fetch","headers","Authorization","then","response","json","jsonResponse","id","image_url","address1","zip_code","categories","title","review_count","App","sort","a","b","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b30a241b.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Business.css'\r\n\r\nclass Business extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"Business\">\r\n        <div className=\"image-container\">\r\n          <a\r\n          href={this.props.business.url}\r\n          rel='noopener noreferrer'\r\n          target=\"_blank\">\r\n            <img src={this.props.business.imageSrc === \"\" ? 'https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwjtiraV-NLkAhUrzYUKHddlB64QjRx6BAgBEAQ&url=https%3A%2F%2Fwww.independent.co.uk%2Flife-style%2Ffood-and-drink%2Fpineapple-pizza-topping-hawaiian-debate-food-a8884211.html&psig=AOvVaw05e0cO4sKr5YLE5pP1DGMA&ust=1568640707254314' : this.props.business.imageSrc} alt=''/>\r\n          </a>\r\n        </div>\r\n        <h2>{this.props.business.name}</h2>\r\n        <div className=\"Business-information\">\r\n          <div className=\"Business-address\">\r\n            <p>{this.props.business.address}</p>\r\n            <p>{this.props.business.city}</p>\r\n            <p>{this.props.business.state + \" \" +  this.props.business.zipcode}</p>\r\n          </div>\r\n          <div className=\"Business-reviews\">\r\n            <h3>{this.props.business.category}</h3>\r\n            <h3 className=\"rating\">Rating: {this.props.business.rating}</h3>\r\n            <p>Total Reviews: {this.props.business.reviewCount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Business;\r\n","import React from 'react'\r\nimport './BusinessList.css'\r\nimport Business from '../Business/Business'\r\n\r\nclass BusinessList extends React.Component {\r\n  render() {\r\n    console.log(this.props.businesses)\r\n    return (\r\n      <div className=\"BusinessList\">\r\n        {\r\n          this.props.businesses.map(business => {\r\n            return <Business business={business} />\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default BusinessList;\r\n","import React from 'react'\r\nimport './SearchBar.css'\r\n\r\nclass SearchBar extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      term: '',\r\n      location: '',\r\n      sortBy:'best_match'\r\n    }\r\n\r\n    this.sortByOptions = {\r\n      \"Best Match\": \"best_match\",\r\n      \"Highest Rated\": \"rating\",\r\n      \"Most Reviewed\": \"review_count\",\r\n    }\r\n\r\n    this.handleEnter = this.handleEnter.bind(this)\r\n    this.handleTermChange = this.handleTermChange.bind(this)\r\n    this.handleLocationChange = this.handleLocationChange.bind(this)\r\n    this.handleSearch = this.handleSearch.bind(this)\r\n  }\r\n\r\n  getSortByClass(sortByOption) {\r\n    return this.state.sortBy === sortByOption ? 'active' : ''\r\n  }\r\n\r\n  handleSortByChange(sortByOption) {\r\n    this.setState({\r\n      sortBy: sortByOption,\r\n    })\r\n  }\r\n\r\n  handleTermChange(e) {\r\n    this.setState({\r\n        term: e.target.value\r\n    })\r\n  }\r\n\r\n  handleLocationChange(e) {\r\n    this.setState({\r\n      location: e.target.value\r\n    })\r\n  }\r\n\r\n  handleSearch(e){\r\n    if (this.state.term && this.state.location && this.state.sortBy){\r\n      this.props.searchYelp(this.state.term, this.state.location, this.state.sortBy)\r\n      e.preventDefault()\r\n    }\r\n  }\r\n\r\n\r\n  handleEnter(e){\r\n    if (e.key === 'Enter'){\r\n      this.handleSearch()\r\n    }\r\n  }\r\n\r\n  renderSortByOption() {\r\n    return Object.keys(this.sortByOptions).map(sortByOption => {\r\n      let sortByOptionValue = this.sortByOptions[sortByOption];\r\n      return (\r\n        <li\r\n            className={this.getSortByClass(sortByOptionValue)}\r\n            key={sortByOptionValue + sortByOption}\r\n            onClick={this.handleSortByChange.bind(this, sortByOptionValue)}\r\n        >\r\n\r\n        {sortByOption}\r\n        </li>\r\n      )\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"SearchBar\">\r\n        <div className=\"SearchBar-sort-options\">\r\n          <ul>\r\n            {this.renderSortByOption()}\r\n          </ul>\r\n        </div>\r\n        <div className=\"SearchBar-fields\">\r\n          <input placeholder=\"Search Businesses\" onChange={this.handleTermChange} onKeyPress={this.handleEnter}/>\r\n          <input placeholder=\"Where?\" onChange={this.handleLocationChange} onKeyPress={this.handleEnter}/>\r\n        </div>\r\n        <div className=\"SearchBar-submit\">\r\n          <a onClick={this.handleSearch}>Let's Go</a>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","const apiKey = 'KXjA3MNYi0RHWqxSgDELtE5yC4-ileMc0eFVoHZTC80rBkas9U-g9VnCOlsBVVH6xXedpD4JnCoxhBCaaKSrpzFJugGNc1oZPokbcxCS8ZviviTxLPQiKxD10S5-XXYx'\r\n\r\n// Stores all functionality for Yelp.api interaction\r\nconst Yelp = {\r\n  // Method for performing search\r\n  search: function(term, location, sortBy) {\r\n    // Perform the fetch passing in url and credentials\r\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}`, {\r\n      headers: {\r\n        Authorization: `Bearer ${apiKey}`\r\n      }\r\n    // Get the JSON response and pass it into the next .then call.\r\n    }).then(response => {\r\n      return response.json()\r\n    // Go through every business and map an object with appropriate information\r\n    }).then(jsonResponse => {\r\n      if (jsonResponse.businesses){\r\n        return jsonResponse.businesses.map(business => {\r\n          return {\r\n            id: business.id,\r\n            // If an image is not supplied -- set to default\r\n            imageSrc: business.image_url === \"\" ? 'https://flockler.com/thumbs/sites/192/james-morton-pizza_s0x1000_q60_noupscale.jpg' : business.image_url,\r\n            name: business.name,\r\n            address: business.location.address1,\r\n            city: business.location.city,\r\n            state: business.location.state,\r\n            zipcode: business.location.zip_code,\r\n            category: business.categories[0].title,\r\n            rating: business.rating,\r\n            url: business.url,\r\n            reviewCount: business.review_count\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n};\r\n\r\nexport default Yelp;\r\n","import React from 'react'\r\nimport './App.css'\r\nimport BusinessList from '../BusinessList/BusinessList.js'\r\nimport SearchBar from '../SearchBar/SearchBar.js'\r\nimport Yelp from '../../util/Yelp.js'\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      businesses: []\r\n    }\r\n    this.searchYelp = this.searchYelp.bind(this)\r\n  }\r\n\r\n  searchYelp(term, location, sortBy) {\r\n    Yelp.search(term, location, sortBy).then(businesses => {\r\n      if (sortBy === 'rating'){\r\n        businesses = businesses.sort((a, b) => {\r\n          if (a.rating > b.rating) {return -1}\r\n          if (a.rating < b.rating) {return 1}\r\n          return 0\r\n        })\r\n      }\r\n      if (sortBy === 'review_count'){\r\n        businesses.sort((a, b) => {\r\n          if (a.reviewCount > b.reviewCount) {return -1}\r\n          if (a.reviewCount < b.reviewCount) {return 1}\r\n          return 0\r\n        })\r\n      }\r\n\r\n      this.setState({\r\n        businesses: businesses\r\n      })\r\n      console.log(this.state.businesses)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <SearchBar searchYelp={this.searchYelp}/>\r\n        <BusinessList businesses={this.state.businesses}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App/App.js'\nimport {HashRouter, Route, Link, Switch} from 'react-router-dom';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}